{"version":3,"sources":["context/context.js","MainApp.js","Images/trabajo.jpg","Images/tiempos.jpg","Login/Container/Login.js","Spinner/Container/Spinner.js","App.js","Router/Private.js","GestionVisitas/Components/Visita.js","GestionVisitas/Components/TareaDia.js","GestionVisitas/Container/GestionVisitas.js","FileUpload/Container/FileUpload.js","Visitas/Components/FieldInput.js","Visitas/Container/Visitas.js","Estadisticas/Components/Analisis.js","Estadisticas/Container/Estadisticas.js","Dashboard/Components/Activities.js","Header/Container/HeaderNav.js","Dashboard/Container/Dashboard.js","Fichar/Components/VisualizacionFichaje.js","Fichar/Components/VisualizacionTrabajosDia.js","Fichar/Components/EstadisticaTrabajoDia.js","Fichar/Container/Fichar.js","TrabajoRealizado/Components/VisualizacionTrabajos.js","TrabajoRealizado/Container/TrabajoRealizado.js","LateralBar/Container/LateralBar.js","layout/Layout.js","Signup/Container/Signup.js","Vendedores/Components/Vendedor.js","Vendedores/Components/VendedoresConatiner.js","Vendedores/Container/Vendedores.js","Configuracion/Components/ButtonClose.js","Configuracion/Components/DynamicField.js","Configuracion/Components/FieldListItem.js","Configuracion/Components/DynamicFieldList.js","Configuracion/Container/Configuracion.js","Router/Routes.js","hooks/index.js","firebase/firebase.js","serviceWorker.js","index.js","Images/calculator.jpg","Images/sell.jpg","Images/estadisticas.jpg"],"names":["AuthContext","createContext","AuthProvider","children","auth","useAuth","Provider","value","useAuthValue","useContext","withAuthValue","Component","props","hot","module","exports","Login","state","email","password","inciarSesion","loading","handleChange","e","target","name","id","setState","handleClick","preventDefault","firebaseApp","signInWithEmailAndPassword","then","catch","error","message","alert","this","className","type","onChange","placeholder","onClick","Spinner","App","login","user","to","PrivateRoute","authenticated","routeType","userType","rest","validation","includes","validate","render","location","pathname","from","Visita","nombreNegocio","nombreGerente","emailGerente","telefonoGerente","modificar","remove","handleListaVisitas","proxAccion","poblacion","codigoPostal","comentarios","tieneInteres","listaImagenes","fields","visitaFields","borrando","fieldToShow","map","item","fieldInVisita","find","itemOp","newOpctions","options","opt","option","values","key","select","console","log","image","i","src","direccion","alt","nombreTarjeta","title","rows","defaultValue","role","TareaDia","tareas","handleActuarDia","length","tarea","GestionVisitasClass","verVisitaCompleta","handleSearch","search","data","filter","visita","busqueda","toLowerCase","probVenta","fechaProx","hanldeActuarInformacion","event","visitaId","productoSolicitado","emailEnviado","tienenWeb","listaImagenesTarjeta","handleModificar","modificacion","Number","moment","format","parsedModificacion","Object","keys","reduce","current","undefined","db","collection","doc","set","merge","guardandoVisita","swal","showError","handleRemove","delete","borrandoVisita","subscribeVisitas","a","uid","userAdmin","where","onSnapshot","snapshot","visitas","docs","formatedProxAccion","isNaN","accionesDia","hoy","cargando","unsubscribes","push","getDynamicFields","get","fieldsSnapshot","dynamicFields","componentDidMount","componentWillUnmount","forEach","unsubscribe","lista","userId","scope","GestionVisitas","FileUpload","files","imagen","handleUpload","handleRemoveFoto","storageRef","storage","ref","nuevaLista","index","parseInt","elementoBorrar","nombreContrato","child","put","on","porcentaje","bytesTransferred","totalBytes","fileName","uploadValue","getDownloadURL","downloadURL","imagenSrc","tarjeta","contratoSrc","FieldInput","handleOnChange","typeCampo","required","heading","useCallback","checked","htmlFor","VisitasClass","handleChangeDynamicFields","valueData","fieldsValues","newFieldsValues","fetchFields","dataSnapshot","orderedFields","sort","b","submitInformation","imagenes","diaHoy","valueOf","valid","validadeFields","formatValues","currentArray","exists","el","diaVisita","add","text","timer","JSON","stringify","every","Visitas","Analisis","dataEstadisitacaVisitas","tituloEstadistica","totales","today","Estadisticas","userAmindId","useState","minDate","maxDate","userFilter","setFilterState","useCollection","users","handleFilterChange","formatedValue","visitasRef","campos","loadingC","useCollectionByRef","loadingV","datosVisitas","currentData","element","concat","newOption","count","formatedMinDate","formatedMaxDate","dato","labels","dataCount","chartData","datasets","backgroundColor","hoverBackgroundColor","Activity","titleActivity","descriptionActivity","buttonActivity","direction","HeaderNav","userName","signOut","CardsVendedor","ventas","presupuestos","estadisticas","trabajo","tiempos","CardsAdmin","Dashboard","VisualizacionFichaje","fichajesSinParar","handleClickParar","fichaje","actividad","comienzoFormated","duracionFormated","estado","VisualizacionTrabajosDia","listaTerminado","tiempoTotalDia","paradoFormated","EstadisticaTrabajoDia","tiempoFormacion","tiempoVentas","tiempoOficina","tiempoProgramacion","tiempoVentasEstadistica","tiempoOficinaEstadistica","tiempoProgramacionEstadistica","tiempoFormacionEstadistica","FicharClass","subscribeTrabajos","subscribeTrabajosTerminados","currentTrabajo","listaTrabajo","terminado","duracion","comienzo","window","navigator","geolocation","getCurrentPosition","success","parado","lugarTerminado","longitude","coords","latitude","dia","lugarEmpezado","cargandoTrabajos","subscribe","trabajos","timeDiference","timeObject","duration","hours","minutes","subscriptions","cargandoTerminados","subs","tiempoTotales","time","total","Oficina","Venta","Formacion","Programar","tiempoTotalesMinutos","Math","round","asMinutes","tiempoTotalesFormated","usuario","Fichar","VisualizacionTrabajos","listaTrabajoSeleccionado","ducationFormat","TrabajoRealizado","setListaTrabajoSeleccionado","setloading","fechaInicio","fechaFin","setFilter","valueFormated","handleVerInofrmacion","diaIncio","diaFin","fichajes","duracionNum","useEffect","formatedFin","formatedInicio","totalTiempo","num","LateralBar","Layout","Signup","password2","isSignInWithEmailLink","href","signInWithEmailLink","createUserWithEmailAndPassword","newUser","email2","signed","url","URLSearchParams","Vendedor","VendedoresConatiner","colSpan","registerUserWithEmailLink","newUserEmail","fetchProvidersForEmail","currentUser","settings","defaultSettings","sendSignInLinkToEmail","Vendedores","setNewUserEmail","inputRef","useRef","matches","useUsers","ButtonClose","style","position","top","right","validations","messages","isValid","DynamicField","field","closeModal","defaulField","date","setLoading","campo","setCampo","handleOnChage","handleAddOption","uuid","active","newOptions","handleRemoveOption","handleChangeOption","focus","saveField","docId","hasError","fieldSave","minHeight","suppressContentEditableWarning","display","width","minWidth","FieldListItem","edit","handleEdit","handleDelete","DynamicFieldList","Configuracion","modalOpen","setModalOpen","setField","loadingFields","editField","addField","isOpen","appElement","document","getElementById","RutasApp","Private","exact","path","setAuth","onAuthStateChanged","authUser","userSnapshot","adminUid","setUsers","usersData","usersSanp","query","operator","setData","queryString","snapshotData","parse","newQuery","snapshotDocsData","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","actionUserWithEmailLinkSettings","handleCodeInApp","Boolean","hostname","match","ReactDOM","MainApp","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.891e05a6.chunk.js","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { createContext, useContext } from 'react';\r\nimport { useAuth } from '../hooks';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const auth = useAuth();\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>;\r\n};\r\n// Para usar el authContext en componetes funcionales\r\nexport const useAuthValue = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\n// Para usar el authContext en componentes de clase\r\nexport function withAuthValue(Component) {\r\n  return function WrappedComponent(props) {\r\n    const value = useAuthValue();\r\n    return <Component {...props} auth={value} />;\r\n  };\r\n}\r\n","import React from 'react';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { hot } from 'react-hot-loader';\r\nimport { AuthProvider } from './context/context';\r\nimport Rutas from './Router/Routes';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nconst MainApp = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Rutas />\r\n    </AuthProvider>\r\n  );\r\n};\r\nexport default hot(module)(MainApp);\r\n","module.exports = __webpack_public_path__ + \"static/media/trabajo.75e6924d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tiempos.abdb574c.jpg\";","import React, { Component } from 'react';\nimport './Login.css';\nimport { firebaseApp } from '../../firebase/firebase';\n\nexport class Login extends Component {\n  state = {\n    email: '',\n    password: '',\n    inciarSesion: true,\n    loading: false\n  };\n\n  handleChange = e => {\n    const { target } = e;\n    const { value } = target;\n    const name = target.id;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleClick = e => {\n    const { email, password } = this.state;\n    e.preventDefault();\n    this.setState(state => ({ ...state, loading: true }));\n    firebaseApp\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ inciarSesion: false, loading: false });\n      })\n      .catch(error => {\n        const errorMessage = error.message;\n        if (\n          errorMessage ===\n          'The password is invalid or the user does not have a password.'\n        ) {\n          alert(\n            'has introducido una contraseña errónea o el usuario no tiene contraseña'\n          );\n        }\n        if (error.message === 'The email address is badly formatted.') {\n          alert('El email introducido esta erróneo');\n        }\n        this.setState(state => ({ ...state, loading: false }));\n      });\n  };\n\n  render() {\n    const { inciarSesion } = this.state;\n\n    return (\n      <div className=\"centrarLogin\">\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <form>\n              <div className=\"form-group\">\n                <label>Direccion de Email</label>\n                <input\n                  type=\"email\"\n                  className=\"form-control\"\n                  onChange={this.handleChange}\n                  id=\"email\"\n                  placeholder=\"email@gmail.com\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Contraseña</label>\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  onChange={this.handleChange}\n                  id=\"password\"\n                  placeholder=\"Escribe tu contraseña\"\n                />\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                onClick={this.handleClick}\n              >\n                {inciarSesion ? 'Iniciar Sesion' : 'Cerrar Sesion'}\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './Spinner.css';\n\nexport const Spinner = () => {\n  return <div className=\"loader\">Loading...</div>;\n};\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Login } from './Login/Container/Login';\nimport { Spinner } from './Spinner/Container/Spinner';\n\nexport const App = ({ login, user }) => {\n  if (user) {\n    return <Redirect to=\"/app\" />;\n  }\n  return <main>{login ? <Login /> : <Spinner />}</main>;\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction validate({ routeType, userType }) {\n  if (typeof routeType === 'object') {\n    return routeType.includes(userType);\n  }\n  if (typeof routeType === 'string') {\n    return routeType === userType;\n  }\n  return true;\n}\nfunction PrivateRoute({\n  children,\n  authenticated,\n  routeType,\n  userType,\n  ...rest\n}) {\n  const validation = authenticated && validate({ routeType, userType });\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        validation ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/',\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\nexport default PrivateRoute;\n","/* eslint-disable no-restricted-globals */\nimport React, { Fragment } from 'react';\nimport './visita.css';\n\nexport const Visita = props => {\n  const {\n    nombreNegocio,\n    handleChange,\n    nombreGerente,\n    emailGerente,\n    telefonoGerente,\n    modificar,\n    remove,\n    handleListaVisitas,\n    proxAccion,\n    poblacion,\n    codigoPostal,\n    comentarios,\n    tieneInteres,\n    listaImagenes,\n    fields,\n    visitaFields,\n    borrando,\n    loading\n  } = props;\n  // console.log(fields, visitaFields);\n  const fieldToShow = fields.map(item => {\n    const fieldInVisita = visitaFields.find(itemOp => itemOp.id === item.id);\n    const newOpctions = item.options.map(opt => {\n      const option = { ...opt };\n      if (fieldInVisita.values.includes(option.key)) {\n        option.select = true;\n      }\n      return option;\n    });\n    return { ...item, options: newOpctions };\n  });\n  console.log(fieldToShow);\n  return (\n    <div className=\"card activity card-visista\">\n      <div className=\"row\">\n        {listaImagenes === ''\n          ? null\n          : listaImagenes.map((image, i) => {\n              return (\n                <div className=\"col-12 col-md-6 precios\" key={i}>\n                  <img\n                    src={image.direccion}\n                    alt={image.nombreTarjeta}\n                    className=\"img-thumbnail\"\n                  />\n                  />\n                </div>\n              );\n            })}\n      </div>\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{nombreNegocio}</h5>\n        <div className=\"row\">\n          <div className=\"col-12 col-md-6\">\n            <p className=\"card-text\">\n              <strong>Nombre Gerente:</strong> {nombreGerente}\n            </p>\n            <p className=\"card-text\">\n              <strong>Email:</strong> {emailGerente}\n            </p>\n            <p className=\"card-text\">\n              <strong>Teléfono:</strong> {telefonoGerente}{' '}\n            </p>\n            <p className=\"card-text\">\n              <strong>Poblacion:</strong> {poblacion}\n            </p>\n            <p className=\"card-text\">\n              <strong>Codigo Postal:</strong> {codigoPostal}\n            </p>\n          </div>\n          <div className=\"col-12 col-md-6\">\n            <p>\n              <strong>Acción Última:</strong>\n            </p>\n            <p>fecha: {proxAccion}</p>\n            <p>Acción: {comentarios}</p>\n            {fieldToShow.map(({ id, title, options }) => (\n              <Fragment key={id}>\n                <p className=\"card-text option\">\n                  <strong>{title}:</strong>\n                </p>\n                <ul>\n                  {options.map(({ key, name, select }) =>\n                    select ? <li key={key}>{name}</li> : null\n                  )}\n                </ul>\n              </Fragment>\n            ))}\n          </div>\n        </div>\n        <br />\n        <br />\n        <label>Próxima Acción</label>\n        <input\n          onChange={handleChange}\n          type=\"date\"\n          className=\"form-control\"\n          id=\"proxAccion\"\n          rows=\"3\"\n        />\n        <div className=\"form-group\">\n          <label>Comentarios</label>\n          <textarea\n            onChange={handleChange}\n            className=\"form-control\"\n            defaultValue={comentarios}\n            id=\"comentarios\"\n            rows=\"3\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Posibilidades reales de contratación</label>\n          <select\n            onChange={handleChange}\n            className=\"form-control\"\n            id=\"probVenta\"\n          >\n            <option>Muy alta</option>\n            <option>Alta</option>\n            <option>Normal</option>\n            <option>Baja</option>\n          </select>\n        </div>\n        <label>¿Tienen Interés? Actualmente: {tieneInteres}</label>\n        <select\n          onChange={handleChange}\n          className=\"form-control\"\n          id=\"tieneInteres\"\n        >\n          <option> </option>\n          <option>Si</option>\n          <option>No</option>\n          <option>No esta la persona que decide</option>\n          <option>No, pero quiere Info</option>\n        </select>\n        <div className=\"form-check\">\n          <input\n            onChange={handleChange}\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            id=\"emailEnviado\"\n            value=\"Si\"\n          />\n          <label className=\"form-check-label\"> Email ya enviado </label>\n        </div>\n        <div onChange={handleChange} className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            id=\"emailEnviado\"\n            value=\"No\"\n          />\n          <label className=\"form-check-label\"> No, hay que enviarlo</label>\n        </div>\n        <div className=\"enviarInfo\">\n          <p>\n            <button\n              type=\"button\"\n              onClick={handleListaVisitas}\n              className=\"btn btn-light btn-back-visita\"\n            >\n              Volver\n            </button>\n          </p>\n          <button type=\"button\" onClick={modificar} className=\"btn btn-success\">\n            {loading ? (\n              <div>\n                Modificando{' '}\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              'Modificar'\n            )}\n          </button>\n          <button\n            type=\"button\"\n            onClick={remove}\n            className=\"btn btn-danger buttonBack\"\n          >\n            {borrando ? (\n              <div>\n                Borrando...{' '}\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              'Borrar'\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport function TareaDia({ tareas, handleActuarDia }) {\n  return (\n    <div className=\"card precios\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title\"> {tareas.length} Tareas</h5>\n        <h6 className=\"card-subtitle mb-2 text-muted\">\n          Estas son tus tareas de hoy:\n        </h6>\n        <ul>\n          {tareas.map((tarea, i) => {\n            return (\n              <li key={i} id={i} onClick={handleActuarDia} className=\"btn-link\">\n                {tarea.nombreNegocio}\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable no-restricted-globals */\nimport React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport moment from 'moment';\nimport { db } from '../../firebase/firebase';\nimport { Visita } from '../Components/Visita';\nimport { TareaDia } from '../Components/TareaDia';\nimport '../../App.css';\nimport { Spinner } from '../../Spinner/Container/Spinner';\nimport { withAuthValue } from '../../context/context';\n\nclass GestionVisitasClass extends Component {\n  constructor(props) {\n    super(props);\n    const { auth } = this.props;\n    this.unsubscribes = [];\n    this.state = {\n      auth,\n      data: [],\n      nombreNegocio: '',\n      productoSolicitado: '',\n      comentarios: '',\n      proxAccion: '',\n      nombreGerente: '',\n      emailGerente: '',\n      telefonoGerente: '',\n      tienenWeb: '',\n      probVenta: '',\n      poblacion: '',\n      codigoPostal: '',\n      verVisitaCompleta: false,\n      cargando: true,\n      search: [],\n      emailEnviado: '',\n      busqueda: false,\n      tieneInteres: '',\n      tareas: [],\n      visitaId: '',\n      listaImagenes: [],\n      visitaFields: [],\n      dynamicFields: [],\n      guardandoVisita: false,\n      borrandoVisita: false\n    };\n  }\n\n  handleListaVisitas = () => {\n    this.setState({ verVisitaCompleta: false });\n  };\n\n  handleChange = e => {\n    const { target } = e;\n    const { value } = target;\n    const name = target.id;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSearch = e => {\n    const { target } = e;\n    const { value } = target;\n    const { data } = this.state;\n    const search = data.filter(visita => {\n      const busqueda = value.toLowerCase();\n      const data = `${visita.nombreNegocio.toLowerCase()} ${visita.probVenta.toLowerCase()} ${\n        visita.fechaProx\n      } ${visita.poblacion.toLowerCase()} `;\n\n      return data.includes(busqueda);\n    });\n\n    this.setState({\n      search,\n      busqueda: true\n    });\n  };\n\n  hanldeActuarInformacion = event => {\n    const i = event.target.id;\n    const { data, busqueda, search } = this.state;\n    const visita = busqueda ? search[i] : data[i];\n\n    this.setState({\n      visitaId: visita.id,\n      nombreNegocio: visita.nombreNegocio,\n      productoSolicitado: visita.productoSolicitado,\n      nombreGerente: visita.nombreGerente,\n      comentarios: visita.comentarios,\n      proxAccion: visita.fechaProx,\n      telefonoGerente: visita.telefonoGerente,\n      emailGerente: visita.emailGerente,\n      emailEnviado: visita.emailEnviado,\n      tienenWeb: visita.tienenWeb,\n      tieneInteres: visita.tieneInteres,\n      probVenta: visita.probVenta,\n      poblacion: visita.poblacion,\n      codigoPostal: visita.codigoPostal,\n      listaImagenes: visita.listaImagenesTarjeta,\n      visitaFields: visita.fields,\n\n      verVisitaCompleta: true\n    });\n  };\n\n  handleActuarDia = event => {\n    const i = event.target.id;\n    const { tareas } = this.state;\n    const visita = tareas[i];\n\n    this.setState({\n      nombreNegocio: visita.nombreNegocio,\n      productoSolicitado: visita.productoSolicitado,\n      nombreGerente: visita.nombreGerente,\n      comentarios: visita.comentarios,\n      proxAccion: visita.fechaProx,\n      poblacion: visita.poblacion,\n      codigoPostal: visita.codigoPostal,\n      telefonoGerente: visita.telefonoGerente,\n      emailGerente: visita.emailGerente,\n      emailEnviado: visita.emailEnviado,\n      tienenWeb: visita.tienenWeb,\n      probVenta: visita.probVenta,\n      tieneInteres: visita.tieneInteres,\n      verVisitaCompleta: true\n    });\n  };\n\n  handleModificar = event => {\n    event.preventDefault();\n    const {\n      comentarios,\n      proxAccion,\n      probVenta,\n      emailEnviado,\n      tieneInteres,\n      visitaId\n    } = this.state;\n\n    const fechaProx = Number(moment(proxAccion).format('x'));\n\n    const modificacion = {\n      comentarios,\n      fechaProx,\n      emailEnviado,\n      tieneInteres,\n      probVenta\n    };\n    const parsedModificacion = Object.keys(modificacion).reduce(\n      (current, key) => {\n        if (modificacion[key] !== undefined) {\n          current[key] = modificacion[key];\n        }\n        return current;\n      },\n      {}\n    );\n    console.log(modificacion, parsedModificacion);\n    db.collection('visitas')\n      .doc(visitaId)\n      .set(parsedModificacion, { merge: true })\n      .then(() => {\n        this.setState({ verVisitaCompleta: false, guardandoVisita: false });\n        swal('Se ha modificado correctamente');\n      })\n      .catch(e => {\n        this.showError(e);\n      });\n\n    this.setState({ guardandoVisita: true });\n    // this.componentDidMount();\n  };\n\n  handleRemove = event => {\n    event.preventDefault();\n    const { visitaId } = this.state;\n    db.collection('visitas')\n      .doc(visitaId)\n      .delete()\n      .then(() => {\n        this.setState({ verVisitaCompleta: false, borrandoVisita: false });\n        swal('Se ha borrado correctamente');\n      })\n      .catch(e => {\n        this.showError(e);\n      });\n    this.setState({ borrandoVisita: true });\n  };\n\n  subscribeVisitas = async () => {\n    try {\n      const { auth } = this.state;\n      const {\n        user: {\n          uid,\n          data: { userAdmin }\n        }\n      } = auth;\n      const subscribeVisitas = db\n        .collection('visitas')\n        .where('userAdmin', '==', userAdmin)\n        .where('userId', '==', uid)\n        .onSnapshot(snapshot => {\n          const visitas = snapshot.docs.map((item, i) => {\n            const data = { ...item.data(), id: item.id };\n            const formatedProxAccion = isNaN(data.fechaProx)\n              ? 'No tiene'\n              : moment(data.fechaProx).format('DD/MM/YYYY');\n            return {\n              ...data,\n              fechaProx: formatedProxAccion\n            };\n          });\n\n          const accionesDia = visitas.filter((item, i) => {\n            const hoy = moment().format('DD/MM/YYYY');\n            const visitaProx = item.fechaProx;\n            return visitaProx === hoy;\n          });\n          this.setState({\n            data: visitas,\n            cargando: false,\n            tareas: accionesDia\n          });\n        });\n      this.unsubscribes.push(subscribeVisitas);\n    } catch (error) {\n      this.showError(error);\n    }\n  };\n\n  getDynamicFields = async () => {\n    try {\n      const { auth } = this.state;\n      const {\n        user: {\n          data: { userAdmin }\n        }\n      } = auth;\n      const fieldsSnapshot = await db\n        .collection('dynamicFields')\n        .where('userId', '==', userAdmin)\n        .get();\n      const fields = fieldsSnapshot.docs.map(item => ({\n        ...item.data(),\n        id: item.id\n      }));\n      this.setState({ dynamicFields: fields });\n    } catch (error) {\n      this.showError(error);\n    }\n  };\n\n  showError = e => {\n    swal('Error', `Erro: ${e}`, 'error');\n  };\n\n  componentDidMount = () => {\n    this.subscribeVisitas();\n    this.getDynamicFields();\n  };\n\n  componentWillUnmount = () => {\n    // console.log('unmount');\n    this.unsubscribes.forEach(unsubscribe => unsubscribe());\n  };\n\n  render() {\n    const {\n      search,\n      nombreNegocio,\n      productoSolicitado,\n      proxAccion,\n      comentarios,\n      probVenta,\n      nombreGerente,\n      emailGerente,\n      telefonoGerente,\n      tienenWeb,\n      tieneInteres,\n      verVisitaCompleta,\n      data,\n      busqueda,\n      cargando,\n      tareas,\n      poblacion,\n      codigoPostal,\n      listaImagenes,\n      visitaFields,\n      dynamicFields,\n      guardandoVisita,\n      borrandoVisita,\n      auth\n    } = this.state;\n    const {\n      user: {\n        data: { userAdmin }\n      }\n    } = auth;\n    const lista = busqueda ? search : data;\n    return (\n      <div className=\"col-12 col-md-11\">\n        <div className=\"row\">\n          <div className=\"col-12 col-md-9\">\n            {verVisitaCompleta ? (\n              <Visita\n                nombreNegocio={nombreNegocio}\n                productoSolicitado={productoSolicitado}\n                proxAccion={proxAccion}\n                comentarios={comentarios}\n                nombreGerente={nombreGerente}\n                emailGerente={emailGerente}\n                poblacion={poblacion}\n                codigoPostal={codigoPostal}\n                telefonoGerente={telefonoGerente}\n                handleChange={this.handleChange}\n                probVenta={probVenta}\n                tienenWeb={tienenWeb}\n                modificar={this.handleModificar}\n                remove={this.handleRemove}\n                handleListaVisitas={this.handleListaVisitas}\n                tieneInteres={tieneInteres}\n                listaImagenes={listaImagenes}\n                visitaFields={visitaFields}\n                userId={userAdmin}\n                fields={dynamicFields}\n                loading={guardandoVisita}\n                borrando={borrandoVisita}\n              />\n            ) : (\n              <div>\n                <input\n                  type=\"text\"\n                  onChange={this.handleSearch}\n                  className=\"form-control precios\"\n                  id=\"search\"\n                  placeholder=\"Buscar...\"\n                />\n                {cargando ? (\n                  <Spinner />\n                ) : (\n                  <table className=\"table table-sm table-responsive\">\n                    <thead>\n                      <tr>\n                        <th scope=\"col\">Nº</th>\n                        <th scope=\"col\">Negocio</th>\n                        <th scope=\"col\">Población</th>\n                        <th scope=\"col\">Código Postal</th>\n                        <th scope=\"col\">Próxima Acción</th>\n                        <th scope=\"col\">Probabilidad</th>\n                        <th scope=\"col\">Mail</th>\n                        <th scope=\"col\">Actuar</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {lista.map((visita, i) => {\n                        return (\n                          <tr key={i}>\n                            <th scope=\"row\">{i + 1}</th>\n                            <td>{visita.nombreNegocio}</td>\n                            <td>{visita.poblacion}</td>\n                            <td>{visita.codigoPostal}</td>\n                            <td>{visita.fechaProx}</td>\n                            <td>{visita.probVenta}</td>\n                            <td>{visita.emailEnviado}</td>\n                            <td>\n                              <button\n                                type=\"button\"\n                                onClick={this.hanldeActuarInformacion}\n                                id={i}\n                                className=\"btn btn-info btn-sm\"\n                              >\n                                Actuar\n                              </button>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"col-12 col-md-3\">\n            <TareaDia tareas={tareas} handleActuarDia={this.handleActuarDia} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport const GestionVisitas = withAuthValue(GestionVisitasClass);\n","import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { firebaseApp } from '../../firebase/firebase';\n\nexport class FileUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listaImagenes: this.props.listaImagenes,\n      contratoSrc: '',\n      nombreTarjeta: ''\n    };\n  }\n\n  handleChange = e => {\n    if (e.target.files[0]) {\n      const imagen = e.target.files[0];\n      this.handleUpload(imagen);\n    }\n  };\n\n  handleRemoveFoto = e => {\n    const storageRef = firebaseApp.storage().ref(`/tarjetas`);\n    e.preventDefault();\n    const { listaImagenes } = this.state;\n    const { target } = e;\n    const { id } = target;\n    const nuevaLista = listaImagenes.filter((imagen, index) => {\n      return index !== parseInt(id);\n    });\n    this.setState({\n      listaImagenes: nuevaLista\n    });\n    const elementoBorrar = listaImagenes[parseInt(id)].nombreContrato;\n\n    const borrarFile = storageRef.child(elementoBorrar);\n\n    borrarFile\n      .delete()\n      .then(function() {\n        swal('Se ha borrado el archivo correctamente');\n      })\n      .catch(function(error) {\n        swal('Ohh ha ocurrido un error');\n      });\n  };\n\n  handleUpload = imagen => {\n    const storageRef = firebaseApp.storage().ref(`/targetas/${imagen.name}`);\n    const tarea = storageRef.put(imagen);\n    tarea.on(\n      'state_changed',\n      snapshot => {\n        const porcentaje =\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        const fileName = snapshot.ref.name;\n        this.setState({\n          uploadValue: porcentaje,\n          nombreTarjeta: fileName\n        });\n      },\n      error => {\n        swal('Ha habido un error, intenta subir la imagen mas tarde');\n      },\n      () => {\n        tarea.snapshot.ref.getDownloadURL().then(downloadURL => {\n          this.setState({\n            imagenSrc: downloadURL\n          });\n          const tarjeta = {\n            nombreTarjeta: this.state.nombreTarjeta,\n            direccion: this.state.imagenSrc\n          };\n\n          const { listaImagenes } = this.state;\n          listaImagenes.push(tarjeta);\n\n          this.setState({\n            listaImagenes\n          });\n        });\n        swal('El archivo se ha subido perfectamente');\n      }\n    );\n  };\n\n  render() {\n    const { listaImagenes } = this.state;\n\n    return (\n      <div>\n        <div className=\"form-group\">\n          <label>Subir Tarjeta</label>\n          <input\n            type=\"file\"\n            onChange={this.handleChange}\n            className=\"form-control-file\"\n          />\n        </div>\n        <div className=\"row\">\n          {listaImagenes.map((imagen, i) => {\n            return (\n              <div className=\"col-12 col-md-3\">\n                <div className=\"card\" key={imagen.nombreTarjeta}>\n                  <img\n                    src={imagen.direccion}\n                    alt={imagen.nombreTarjeta}\n                    className=\"img-thumbnail\"\n                  />\n                  <button\n                    id={i}\n                    className=\"btn btn-danger\"\n                    onClick={this.handleRemoveFoto}\n                  >\n                    Borrar\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React, { useCallback } from 'react';\r\n\r\nexport default function FieldInput({ data, handleOnChange }) {\r\n  const { title, options, typeCampo, id, required } = data;\r\n  const heading = (\r\n    <h6>\r\n      {title} {required && '(Requerido)'}\r\n    </h6>\r\n  );\r\n  const handleChange = useCallback(\r\n    e => {\r\n      const { value, checked } = e.target;\r\n      handleOnChange(e, { value, id, typeCampo, checked });\r\n    },\r\n    [id, handleOnChange, typeCampo]\r\n  );\r\n  if (typeCampo === 'multiple') {\r\n    return (\r\n      <div className=\"mb-2\">\r\n        {heading}\r\n        {options.map(({ key, name }) => {\r\n          return (\r\n            <div className=\"custom-control custom-checkbox\" key={key}>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"custom-control-input\"\r\n                id={key}\r\n                onChange={handleChange}\r\n                value={key}\r\n              />\r\n              <label className=\"custom-control-label\" htmlFor={key}>\r\n                {name}\r\n              </label>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"mb-2\">\r\n      {heading}\r\n      <select className=\"custom-select\" onChange={handleChange}>\r\n        <option>--selecionar--</option>\r\n        {options.map(({ key, name }) => {\r\n          return (\r\n            <option key={key} value={key}>\r\n              {name}\r\n            </option>\r\n          );\r\n        })}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport moment from 'moment';\nimport { db } from '../../firebase/firebase';\nimport { FileUpload } from '../../FileUpload/Container/FileUpload';\nimport { withAuthValue } from '../../context/context';\nimport FieldInput from '../Components/FieldInput';\n\nclass VisitasClass extends Component {\n  constructor(props) {\n    super(props);\n    const { auth } = this.props;\n    this.state = {\n      nombreGerente: '',\n      telefonoGerente: '',\n      emailGerente: '',\n      comentarios: '',\n      proxAccion: '',\n      probVenta: 'Muy Alta',\n      nombreNegocio: '',\n      poblacion: '',\n      codigoPostal: '',\n      listaImagenes: [],\n      fields: [],\n      fieldsValues: [],\n      auth\n    };\n  }\n\n  componentDidMount() {\n    this.fetchFields();\n  }\n\n  handleChange = e => {\n    const { target } = e;\n    const { value } = target;\n    const name = target.id;\n    if (target.type === 'date') {\n      console.log(value);\n    }\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleChangeDynamicFields = (e, valueData) => {\n    // console.log(e);\n    const { fieldsValues } = this.state;\n    const { id, checked, value } = valueData;\n\n    const newFieldsValues = [...fieldsValues, valueData].filter(\n      ({ typeCampo, ...item }, i) => {\n        // console.log(i, checked);\n        if (typeCampo === 'simple' && item.value !== value && id === item.id) {\n          return false;\n        }\n        if (typeCampo === 'multiple' && id === item.id) {\n          if (item.value === value && !checked) {\n            return false;\n          }\n          // return false;\n        }\n        return true;\n      }\n    );\n    // console.log(newFieldsValues);\n    this.setState(state => ({ ...state, fieldsValues: newFieldsValues }));\n    // this.validadeFields\n  };\n\n  fetchFields = async () => {\n    const { auth } = this.state;\n    const id = auth?.user.data.userAdmin;\n    const dataSnapshot = await db\n      .collection('dynamicFields')\n      .where('userId', '==', id)\n      .get();\n    const fields = dataSnapshot.docs.map(item => ({\n      ...item.data(),\n      id: item.id\n    }));\n    const orderedFields = [...fields].sort((a, b) => {\n      if (a.typeCampo === 'simple' && b.typeCampo === 'multiple') {\n        return -1;\n      }\n      if (b.typeCampo === 'simple' && a.typeCampo === 'multiple') {\n        return 1;\n      }\n\n      return 0;\n    });\n    this.setState(state => ({ ...state, fields: orderedFields }));\n    console.log(orderedFields);\n  };\n\n  submitInformation = e => {\n    const {\n      nombreGerente,\n      telefonoGerente,\n      emailGerente,\n      comentarios,\n      proxAccion,\n      probVenta,\n      nombreNegocio,\n      poblacion,\n      listaImagenes,\n      codigoPostal\n    } = this.state;\n\n    const imagenes = listaImagenes.length > 0 ? listaImagenes : '';\n\n    const fechaProx = Number(moment(proxAccion).format('x'));\n    const diaHoy = moment().valueOf();\n\n    e.preventDefault();\n    const valid = this.validadeFields();\n    if (codigoPostal === '') {\n      swal('Por favor rellena el codigo postal');\n    } else if (probVenta === '') {\n      swal('Por favor rellena la probabilidad de Venta');\n    } else if (poblacion === '') {\n      swal('Por favor rellena la poblacion');\n    } else if (nombreNegocio === '') {\n      swal('Por favor rellena el nombre del Negocio');\n    } else if (!valid) {\n      swal('Por favor rellena los campos de la visita que son requeridos');\n    } else {\n      const { user } = this.state.auth;\n      const { fieldsValues } = this.state;\n      const formatValues = fieldsValues.reduce(\n        (currentArray, { id, value }) => {\n          const exists = currentArray.find(el => el.id === id);\n          if (!exists) {\n            currentArray.push({ values: [value], id });\n            return currentArray;\n          }\n          exists.values.push(value);\n          return currentArray;\n        },\n        []\n      );\n      const visita = {\n        diaVisita: diaHoy,\n        fechaProx,\n        nombreGerente,\n        telefonoGerente,\n        emailGerente,\n        comentarios,\n        probVenta,\n        nombreNegocio,\n        poblacion,\n        codigoPostal,\n        emailEnviado: 'No',\n        listaImagenesTarjeta: imagenes,\n        userId: user.uid,\n        userAdmin: user.data.userAdmin,\n        fields: formatValues\n      };\n\n      // console.log(visita);\n      db.collection('visitas')\n        .add(visita)\n        .then(ref => {\n          swal({\n            text: 'La Visita se ha añadido correctamente',\n            timer: 900\n          });\n        })\n        .catch(error => {\n          swal(\n            'Error al agregar la visita',\n            `Error: ${JSON.stringify(error)}`,\n            'error'\n          );\n        });\n    }\n  };\n\n  validadeFields = () => {\n    const { fields, fieldsValues } = this.state;\n    const requeredFields = fields.filter(item => item.required);\n    const requeredFieldsHasValues = requeredFields.map(({ id }) => {\n      const hasValue = fieldsValues.find(item => item.id === id);\n      if (hasValue) {\n        return true;\n      }\n      return false;\n    });\n    const valid = requeredFieldsHasValues.every(item => item);\n    return valid;\n  };\n\n  render() {\n    const { fields } = this.state;\n    // this.validadeFields();\n    return (\n      <form>\n        <div className=\"card precios\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Datos Principales</h5>\n            <label>Nombre de la Empresa</label>\n            <input\n              onChange={this.handleChange}\n              type=\"text\"\n              className=\"form-control\"\n              id=\"nombreNegocio\"\n              placeholder=\"Escribe el nombre de la empresa\"\n              required\n            />\n            <label>Poblacion</label>\n            <input\n              onChange={this.handleChange}\n              type=\"text\"\n              className=\"form-control\"\n              id=\"poblacion\"\n              placeholder=\"Poblacion\"\n            />\n            <label>Codigo Postal</label>\n            <input\n              onChange={this.handleChange}\n              type=\"zipCode\"\n              className=\"form-control\"\n              id=\"codigoPostal\"\n              placeholder=\"46000\"\n            />\n          </div>\n        </div>\n        <div className=\"card precios\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Datos de la visita</h5>\n            <div>\n              {fields.map(item => (\n                <FieldInput\n                  key={item.id}\n                  data={item}\n                  handleOnChange={this.handleChangeDynamicFields}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n        <div className=\"card precios\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Datos del Posible Cliente</h5>\n            <div className=\"form-group\">\n              <label>Nombre del Gerente</label>\n              <input\n                onChange={this.handleChange}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"nombreGerente\"\n                placeholder=\"Nombre Gerente\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Télefono de Contacto</label>\n              <input\n                onChange={this.handleChange}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"telefonoGerente\"\n                placeholder=\"Teléfono\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Correo Eléctrónico</label>\n              <input\n                onChange={this.handleChange}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"emailGerente\"\n                placeholder=\"gerente@gerente.com\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card precios\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Acciones Comerciales Próximas</h5>\n            <div className=\"form-group\">\n              <label>Proxima Accion</label>\n              <input\n                onChange={this.handleChange}\n                type=\"date\"\n                className=\"form-control\"\n                id=\"proxAccion\"\n                rows=\"3\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Comentarios</label>\n              <textarea\n                onChange={this.handleChange}\n                className=\"form-control\"\n                id=\"comentarios\"\n                rows=\"3\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Posibilidades reales de contratación</label>\n              <select\n                onChange={this.handleChange}\n                className=\"form-control\"\n                id=\"probVenta\"\n              >\n                <option>Muy alta</option>\n                <option>Alta</option>\n                <option>Normal</option>\n                <option>Baja</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div className=\"card precios\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Añade la tarjeta de Visita</h5>\n            <div className=\"form-group\">\n              <FileUpload listaImagenes={this.state.listaImagenes} />\n            </div>\n          </div>\n        </div>\n        <button\n          type=\"submit\"\n          onClick={this.submitInformation}\n          className=\"btn btn-success botonSuccess\"\n        >\n          Enviar\n        </button>\n      </form>\n    );\n  }\n}\nexport const Visitas = withAuthValue(VisitasClass);\n// export const VisitasWithAuhtValue = withAuthValue(VisitasClass);\n","import React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\n\nexport const Analisis = props => {\n  const { dataEstadisitacaVisitas, tituloEstadistica, totales } = props;\n  return (\n    <div className=\"card activity\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{tituloEstadistica}</h5>\n        <Doughnut data={dataEstadisitacaVisitas} />\n        <p className=\"totales\">{totales}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useCallback } from 'react';\r\nimport moment from 'moment';\r\nimport { Analisis } from '../Components/Analisis';\r\nimport { useCollection, useCollectionByRef } from '../../hooks';\r\nimport { Spinner } from '../../Spinner/Container/Spinner';\r\nimport { useAuthValue } from '../../context/context';\r\n\r\nconst today = moment().valueOf();\r\nexport function Estadisticas() {\r\n  const { user } = useAuthValue();\r\n  const userType = user?.data?.type;\r\n  const userAmindId = userType === 'admin' ? user.uid : user?.data?.userAdmin;\r\n  const [{ minDate, maxDate, userFilter }, setFilterState] = useState({\r\n    minDate: '',\r\n    maxDate: today,\r\n    userFilter: false\r\n  });\r\n  const [users] = useCollection('usersData', [\r\n    'userAdmin',\r\n    '==',\r\n    userType === 'admin' && userAmindId\r\n    // si el usuario no es admin retorna undefined y useColledtion no buscara los usuarios\r\n  ]);\r\n\r\n  const handleFilterChange = useCallback(({ target }) => {\r\n    const { value, name, type } = target;\r\n    const formatedValue =\r\n      type === 'date' ? Number(moment(value).format('x')) : value;\r\n    setFilterState(state => ({ ...state, [name]: formatedValue }));\r\n  }, []);\r\n  const visitasRef = [\r\n    'visitas',\r\n    {\r\n      where: [\r\n        ['userAdmin', '==', userAmindId],\r\n        ['diaVisita', '>=', minDate || 0],\r\n        ['diaVisita', '<=', maxDate],\r\n        userType === 'admin' && userFilter && userFilter !== 'false'\r\n          ? ['userId', '==', userFilter]\r\n          : undefined,\r\n        userType === 'vendedor' ? ['userId', '==', user.uid] : null\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const [campos, loadingC] = useCollection('dynamicFields', [\r\n    'userId',\r\n    '==',\r\n    userAmindId\r\n  ]);\r\n  const [visitas, loadingV] = useCollectionByRef(...visitasRef);\r\n  const datosVisitas = campos.map(item => {\r\n    const { id } = item;\r\n    const data = visitas.reduce((currentData, visita) => {\r\n      visita.fields.forEach(element => {\r\n        if (id === element.id) {\r\n          currentData = currentData.concat(element.values);\r\n        }\r\n      });\r\n      return currentData;\r\n    }, []);\r\n    const newOption = item.options.map(opt => {\r\n      let count = 0;\r\n      data.forEach(el => {\r\n        if (el === opt.key) {\r\n          count++;\r\n        }\r\n      });\r\n      return { ...opt, count };\r\n    });\r\n    return { ...item, options: newOption };\r\n  });\r\n  // YYY-MM-DD input date format\r\n  const loading = loadingC || loadingV;\r\n  const formatedMinDate = moment(minDate).format('YYYY-MM-DD');\r\n  const formatedMaxDate = moment(maxDate).format('YYYY-MM-DD');\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"card precios\">\r\n            <div className=\"card-body\">\r\n              <h2 className=\"card-title\">Filtar Visitas</h2>\r\n              <div className=\"form-row\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <div className=\"form-group row\">\r\n                    <label className=\"col-2 col-form-label\">Desde</label>\r\n                    <div className=\"col-10\">\r\n                      <input\r\n                        name=\"minDate\"\r\n                        className=\"form-control\"\r\n                        type=\"date\"\r\n                        value={formatedMinDate}\r\n                        onChange={handleFilterChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group row\">\r\n                    <label className=\"col-2 col-form-label\">Hasta</label>\r\n                    <div className=\"col-10\">\r\n                      <input\r\n                        name=\"maxDate\"\r\n                        className=\"form-control\"\r\n                        type=\"date\"\r\n                        value={formatedMaxDate}\r\n                        onChange={handleFilterChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {userType === 'admin' && (\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <div className=\"form-group row\">\r\n                      <label className=\"col-2 col-form-label\">Usuario</label>\r\n                      <div className=\"col-10\">\r\n                        <select\r\n                          className=\"custom-select\"\r\n                          name=\"userFilter\"\r\n                          value={userFilter}\r\n                          onChange={handleFilterChange}\r\n                        >\r\n                          <option value=\"false\">Todos los usuarios</option>\r\n                          {users.map(({ name, id, email }) => (\r\n                            <option key={id} value={id}>\r\n                              {name} - {email}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        {loading && <Spinner />}\r\n        {datosVisitas.length > 0 ? (\r\n          datosVisitas.map(dato => {\r\n            const { id, title, options } = dato;\r\n            const labels = [];\r\n            const dataCount = [];\r\n            options.forEach(({ name, count }) => {\r\n              labels.push(name);\r\n              dataCount.push(count);\r\n            });\r\n            const count = options.reduce((current, item) => {\r\n              return current + item.count;\r\n            }, 0);\r\n            const chartData = {\r\n              labels,\r\n              datasets: [\r\n                {\r\n                  data: dataCount,\r\n                  backgroundColor: [\r\n                    '#F0EDED',\r\n                    '#36A2EB',\r\n                    '#FFCE56',\r\n                    '#605C5A',\r\n                    '#EB0F13'\r\n                  ],\r\n                  hoverBackgroundColor: [\r\n                    '#DFC5C5',\r\n                    '#36A2EB',\r\n                    '#FFCE56',\r\n                    '#4B0607'\r\n                  ]\r\n                }\r\n              ]\r\n            };\r\n            return (\r\n              <div className=\"col-12 col-md-6\" key={id}>\r\n                <Analisis\r\n                  tituloEstadistica={`Total de ${title}`}\r\n                  dataEstadisitacaVisitas={chartData}\r\n                  totales={`Total: ${count}`}\r\n                />\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div>\r\n            <p>No hay visitas que mostrar</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n// const [visitas, loadingV] = useCollection('visitas', [\r\n//   'userAdmin',\r\n//   '==',\r\n//   userAmindId\r\n// ]);\r\n","import React from 'react';\nimport './Activities.css';\nimport { Link } from 'react-router-dom';\n\nconst Activity = props => {\n  const {\n    image,\n    titleActivity,\n    descriptionActivity,\n    buttonActivity,\n    direction\n  } = props;\n  return (\n    <div className=\"card activity\">\n      <img\n        src={image}\n        className=\"card-img-top imagesActivity\"\n        alt=\"presupuestos\"\n      />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{titleActivity}</h5>\n        <p className=\"card-text\">{descriptionActivity}</p>\n        <Link to={direction} className=\"btn btn-primary\">\n          {buttonActivity}\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Activity;\n","import React from 'react';\nimport { firebaseApp } from '../../firebase/firebase';\nimport swal from 'sweetalert';\n\nexport function HeaderNav({ userName }) {\n  const handleClickCloseSesion = e => {\n    firebaseApp\n      .auth()\n      .signOut()\n      .then(function() {\n        swal({\n          text: 'El usuario se ha desconectado correctamente.',\n          timer: 900\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n  return (\n    <nav className=\"navbar navbar-dark headerNav\">\n      <span className=\"user\">{userName}</span>\n      <button\n        onClick={handleClickCloseSesion}\n        className=\"btn btn-sm btn-outline-danger\"\n        type=\"button\"\n      >\n        Cerrar Sesion\n      </button>\n    </nav>\n  );\n}\n","import React from 'react';\nimport Activity from '../Components/Activities';\nimport presupuestos from '../../Images/calculator.jpg';\nimport ventas from '../../Images/sell.jpg';\nimport estadisticas from '../../Images/estadisticas.jpg';\nimport trabajo from '../../Images/trabajo.jpg';\nimport tiempos from '../../Images/tiempos.jpg';\nimport { HeaderNav } from '../../Header/Container/HeaderNav';\nimport '../../App.css';\n\nconst CardsVendedor = () => (\n  <>\n    <div className=\"row\">\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={ventas}\n          titleActivity=\"Haz Visita.\"\n          descriptionActivity=\"Aquí vas a apuntar de forma rápida las visitas que estas realizando\"\n          buttonActivity=\"Visita\"\n          direction=\"./Visitas\"\n        />\n      </div>\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={presupuestos}\n          titleActivity=\"Gestion de Visitas\"\n          descriptionActivity=\"Recuerda todo el trabajo realizado y además haz un buen seguimiento\"\n          buttonActivity=\"Gestiona\"\n          direction=\"./gestion\"\n        />\n      </div>\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={estadisticas}\n          titleActivity=\"Estadísticas\"\n          descriptionActivity=\"Analiza las visitas que estas realizando para analizar lo que consigues\"\n          buttonActivity=\"Analizar\"\n          direction=\"/estadisticas\"\n        />\n      </div>\n    </div>\n    <div className=\"row\">\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={trabajo}\n          titleActivity=\"Fichar\"\n          descriptionActivity=\"Ficha tu trabajo\"\n          buttonActivity=\"Fichar\"\n          direction=\"/fichar\"\n        />\n      </div>\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={tiempos}\n          titleActivity=\"Ver Trabajo\"\n          descriptionActivity=\"Visualiza el trabajo realizado\"\n          buttonActivity=\"Ver\"\n          direction=\"/trabajorealizado\"\n        />\n      </div>\n    </div>\n  </>\n);\nconst CardsAdmin = () => (\n  <>\n    <div className=\"row\">\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={ventas}\n          titleActivity=\"Configuración\"\n          descriptionActivity=\"Configuraciones Generales\"\n          buttonActivity=\"Configuración\"\n          direction=\"./configuracion\"\n        />\n      </div>\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={presupuestos}\n          titleActivity=\"Administrar Vendedores\"\n          descriptionActivity=\"Agrega, modficia o eliminia vendedores.\"\n          buttonActivity=\"Vendedores\"\n          direction=\"./vendedores\"\n        />\n      </div>\n      <div className=\"col-12 col-md-4\">\n        <Activity\n          image={estadisticas}\n          titleActivity=\"Estadísticas\"\n          descriptionActivity=\"Analiza las visitas que estas realizando para analizar lo que consigues\"\n          buttonActivity=\"Analizar\"\n          direction=\"/estadisticas\"\n        />\n      </div>\n    </div>\n  </>\n);\nexport function Dashboard({ userType }) {\n  return (\n    <div>\n      <HeaderNav userName=\"Carlos Raez\" />\n      <div className=\"container\">\n        {userType === 'vendedor' && <CardsVendedor />}\n        {userType === 'admin' && <CardsAdmin />}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport function VisualizacionFichaje({ fichajesSinParar, handleClickParar }) {\n  return (\n    <div className=\"card visualizacion\">\n      <div className=\"card-body\">\n        <table className=\"table table-sm responsive\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th scope=\"col\">Nº</th>\n              <th scope=\"col\">Actividad</th>\n              <th scope=\"col\">Hora de Comienzo</th>\n              <th scope=\"col\">Tiempo</th>\n              <th scope=\"col\">Estado</th>\n              <th scope=\"col\">Parar</th>\n            </tr>\n          </thead>\n          <tbody>\n            {fichajesSinParar.map((fichaje, i) => {\n              return (\n                <tr key={i}>\n                  <th scope=\"row\">{i + 1}</th>\n                  <td>{fichaje.actividad}</td>\n                  <td>{fichaje.comienzoFormated}</td>\n                  <td>{fichaje.duracionFormated}</td>\n                  <td>{fichaje.estado}</td>\n                  <td>\n                    <button\n                      type=\"button\"\n                      id={i}\n                      onClick={() => handleClickParar(fichaje.id)}\n                      className=\"btn btn-sm btn-primary\"\n                    >\n                      Parar\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport const VisualizacionTrabajosDia = props => {\n  const { listaTerminado } = props;\n  const { tiempoTotalDia } = props;\n\n  return (\n    <div className=\"card visualizacion\">\n      <div className=\"card-body\">\n        <table className=\"table table-sm responsive\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th scope=\"col\">Nº</th>\n              <th scope=\"col\">Actividad</th>\n              <th scope=\"col\">Hora de Comienzo</th>\n              <th scope=\"col\">Tiempo Total</th>\n              <th scope=\"col\">Hora de Finalizacion</th>\n            </tr>\n          </thead>\n          <tbody>\n            {listaTerminado.map((fichaje, i) => {\n              return (\n                <tr key={i}>\n                  <th scope=\"row\">{i + 1}</th>\n                  <td>{fichaje.actividad}</td>\n                  <td>{fichaje.comienzoFormated}</td>\n                  <td>{fichaje.duracionFormated}</td>\n                  <td>{fichaje.paradoFormated}</td>\n                </tr>\n              );\n            })}\n            <tr>\n              <th scope=\"row\">Totales</th>\n              <td />\n              <td />\n              <td>{tiempoTotalDia}</td>\n              <td />\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport { Bar } from 'react-chartjs-2';\n\nexport class EstadisticaTrabajoDia extends Component {\n  state = {\n    data: [],\n    tiempoFormacion: this.props.tiempoFormacion,\n    tiempoVentas: this.props.tiempoVentas,\n    tiempoOficina: this.props.tiempoOficina,\n    tiempoProgramacion: this.props.tiempoProgramacion,\n    tiempoTotalDia: this.props.tiempoTotalDia,\n    dataEstadisitacaVisitas: {\n      labels: ['Ventas', 'Oficina', 'Programacion', 'Formacion'],\n      datasets: [\n        {\n          data: [\n            this.props.tiempoVentasEstadistica,\n            this.props.tiempoOficinaEstadistica,\n            this.props.tiempoProgramacionEstadistica,\n            this.props.tiempoFormacionEstadistica\n          ],\n          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#EB0F13'],\n          hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4B0607']\n        }\n      ]\n    }\n  };\n\n  render() {\n    const {\n      dataEstadisitacaVisitas,\n      tiempoTotalDia,\n      tiempoFormacion,\n      tiempoProgramacion,\n      tiempoVentas,\n      tiempoOficina\n    } = this.state;\n    return (\n      <div className=\"card activity\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">Tu trabajo de hoy</h5>\n          <p>\n            <strong>Oficina:</strong> {tiempoOficina}\n          </p>\n          <p>\n            <strong>Ventas:</strong> {tiempoVentas}\n          </p>\n          <p>\n            <strong>Programación:</strong> {tiempoProgramacion}\n          </p>\n          <p>\n            <strong>Formación:</strong> {tiempoFormacion}\n          </p>\n          <Bar data={dataEstadisitacaVisitas} />\n          <p className=\"totales\">{tiempoTotalDia}</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport moment from 'moment';\nimport swal from 'sweetalert';\nimport { db } from '../../firebase/firebase';\nimport { VisualizacionFichaje } from '../Components/VisualizacionFichaje';\nimport { VisualizacionTrabajosDia } from '../Components/VisualizacionTrabajosDia';\nimport { EstadisticaTrabajoDia } from '../Components/EstadisticaTrabajoDia';\nimport { Spinner } from '../../Spinner/Container/Spinner';\nimport { withAuthValue } from '../../context/context';\n\nclass FicharClass extends Component {\n  constructor(props) {\n    super(props);\n    this.subscriptions = [];\n    this.state = {\n      auth: this.props.auth,\n      actividad: 'Oficina',\n      cargandoTrabajos: false,\n      cargandoTerminados: false,\n      listaTrabajo: [],\n      listaTerminado: []\n    };\n  }\n\n  componentDidMount = () => {\n    this.subscribeTrabajos();\n    this.subscribeTrabajosTerminados();\n  };\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(subs => {\n      subs();\n    });\n  }\n\n  handleClickParar = e => {\n    // e.preventDefault();\n    const { listaTrabajo } = this.state;\n    const currentTrabajo = listaTrabajo.find(item => item.id === e);\n\n    const terminado = Number(moment().format('x'));\n    const duracion = terminado - currentTrabajo.comienzo;\n    window.navigator.geolocation.getCurrentPosition(success => {\n      const trabajo = {\n        parado: terminado,\n        duracion,\n        estado: 'Terminado',\n        lugarTerminado: {\n          longitude: success.coords.longitude,\n          latitude: success.coords.latitude\n        }\n      };\n      db.collection('fichajes')\n        .doc(e)\n        .set(trabajo, { merge: true })\n        .then(() => {\n          swal('El trabajo se ha Parado correctamente');\n        })\n        .catch(error => {\n          this.showError(error);\n        });\n    });\n  };\n\n  submitInformation = e => {\n    e.preventDefault();\n    const { listaTrabajo, auth } = this.state;\n    if (listaTrabajo.length !== 0) {\n      swal('Ya tienes un trabajo en marcha, primero finaliza tu trabajo');\n      return;\n    }\n    const {\n      user: { uid }\n    } = auth;\n    const comienzo = Number(moment().format('x'));\n    const dia = moment(moment().format('YYYY/MM/DD')).valueOf();\n    // const sam = moment(1582933115163).format('HH:mm');\n    window.navigator.geolocation.getCurrentPosition(success => {\n      const { actividad } = this.state;\n      const trabajo = {\n        userId: uid,\n        dia,\n        actividad,\n        comienzo,\n        parado: 0,\n        duracion: 0,\n        estado: 'Trabajando',\n        lugarEmpezado: {\n          longitude: success.coords.longitude,\n          latitude: success.coords.latitude\n        }\n      };\n      db.collection('fichajes')\n        .add(trabajo)\n        .then(() => {\n          swal('Trabajo añadido correctamemnte');\n        })\n        .catch(e => {\n          this.showError(e);\n        });\n    });\n  };\n\n  showError = e => {\n    swal('Error', `Error: ${JSON.stringify(e)}`, 'error');\n  };\n\n  handleChange = e => {\n    const { target } = e;\n    const { value } = target;\n    const name = target.id;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  subscribeTrabajos = () => {\n    const { auth } = this.state;\n    const {\n      user: { uid }\n    } = auth;\n    this.setState({ cargandoTrabajos: true });\n    const dia = moment(moment().format('YYYY/MM/DD')).valueOf();\n    const subscribe = db\n      .collection('fichajes')\n      .where('userId', '==', uid)\n      .where('estado', '==', 'Trabajando')\n      .where('dia', '<=', dia)\n      // .where('dia', '>=', dia)\n      .onSnapshot(snapshot => {\n        const trabajos = snapshot.docs.map(doc => {\n          const data = {\n            ...doc.data()\n          };\n          const comienzoFormated = moment(data.comienzo).format('HH:mm');\n          const timeDiference = moment().valueOf() - data.comienzo; // hora actual menos hora de comienzo\n          const timeObject = moment.duration(timeDiference);\n          const duracionFormated = `${timeObject.hours()} horas y ${timeObject.minutes()} minutos.`;\n          return { ...data, id: doc.id, comienzoFormated, duracionFormated };\n        });\n        this.setState({ listaTrabajo: trabajos, cargandoTrabajos: false });\n      });\n    this.subscriptions.push(subscribe);\n  };\n\n  subscribeTrabajosTerminados = () => {\n    const { auth } = this.state;\n    const {\n      user: { uid }\n    } = auth;\n    const dia = moment(moment().format('YYYY/MM/DD')).valueOf();\n    console.log(dia);\n    this.setState({ cargandoTerminados: true });\n    const subscribe = db\n      .collection('fichajes')\n      .where('userId', '==', uid)\n      .where('estado', '==', 'Terminado')\n      .where('dia', '>=', dia)\n      .onSnapshot(snapshot => {\n        const trabajos = snapshot.docs.map(doc => {\n          const data = {\n            ...doc.data()\n          };\n          const comienzoFormated = moment(data.comienzo).format('HH:mm');\n          const paradoFormated = moment(data.parado).format('HH:mm');\n          const timeDiference = moment().valueOf() - data.comienzo; // hora actual menos hora de comienzo\n          const timeObject = moment.duration(timeDiference);\n          const duracionFormated = `${timeObject.hours()} horas y ${timeObject.minutes()} minutos.`;\n          return {\n            ...data,\n            id: doc.id,\n            comienzoFormated,\n            duracionFormated,\n            paradoFormated\n          };\n        });\n        this.setState({ listaTerminado: trabajos, cargandoTerminados: false });\n      });\n    this.subscriptions.push(subscribe);\n  };\n\n  render() {\n    const {\n      listaTrabajo,\n      cargandoTerminados,\n      cargandoTrabajos,\n      listaTerminado\n    } = this.state;\n    const loading = cargandoTrabajos || cargandoTerminados;\n    const tiempoTotales = listaTerminado.reduce(\n      (time, item) => {\n        const { duracion } = item;\n        const key = item.actividad;\n        const total = time.total + duracion;\n        const actividad = time[key] + duracion;\n        return { ...time, total, [key]: actividad };\n      },\n      {\n        Oficina: 0,\n        Venta: 0,\n        Formacion: 0,\n        Programar: 0,\n        total: 0\n      }\n    );\n    const tiempoTotalesMinutos = Object.keys(tiempoTotales).reduce(\n      (time, key) => {\n        const value = tiempoTotales[key];\n        const timeObject = moment.duration(value);\n        const formatedValue = Math.round(timeObject.asMinutes());\n        return { ...time, [key]: formatedValue };\n      },\n      {}\n    );\n    const tiempoTotalesFormated = Object.keys(tiempoTotales).reduce(\n      (time, key) => {\n        const value = tiempoTotales[key];\n        const timeObject = moment.duration(value);\n        const formatedValue = `${timeObject.hours()} horas y ${timeObject.minutes()} minutos.`;\n        return { ...time, [key]: formatedValue };\n      },\n      {}\n    );\n    const tiempoTotalDia = tiempoTotalesFormated.total;\n    const tiempoFormacion = tiempoTotalesFormated.Formacion;\n    const tiempoOficina = tiempoTotalesFormated.Oficina;\n    const tiempoVentas = tiempoTotalesFormated.Venta;\n    const tiempoProgramacion = tiempoTotalesFormated.Programar;\n\n    const tiempoVentasEstadistica = tiempoTotalesMinutos.Venta;\n    const tiempoFormacionEstadistica = tiempoTotalesMinutos.Formacion;\n    const tiempoOficinaEstadistica = tiempoTotalesMinutos.Oficina;\n    const tiempoProgramacionEstadistica = tiempoTotalesMinutos.Programar;\n    return (\n      <>\n        <div className=\"form-group\">\n          <label>Actividad</label>\n          <select\n            onChange={this.handleChange}\n            className=\"form-control\"\n            id=\"actividad\"\n          >\n            <option>Oficina</option>\n            <option>Venta</option>\n            <option>Formacion</option>\n            <option>Programar</option>\n          </select>\n        </div>\n        <button\n          type=\"submit\"\n          onClick={this.submitInformation}\n          className=\"btn btn-success\"\n        >\n          Fichar\n        </button>\n        {loading ? (\n          <Spinner />\n        ) : (\n          <div>\n            <VisualizacionFichaje\n              usuario=\"Carlos Raez\"\n              fichajesSinParar={listaTrabajo}\n              handleClickParar={this.handleClickParar}\n            />\n            <VisualizacionTrabajosDia\n              usuario=\"Carlos Raez\"\n              listaTerminado={listaTerminado}\n              handleClickParar={this.handleClickParar}\n              tiempoTotalDia={tiempoTotalDia}\n            />\n            <EstadisticaTrabajoDia\n              tiempoProgramacionEstadistica={tiempoProgramacionEstadistica}\n              tiempoOficinaEstadistica={tiempoOficinaEstadistica}\n              tiempoFormacionEstadistica={tiempoFormacionEstadistica}\n              listaTerminado={listaTerminado}\n              tiempoTotalDia={tiempoTotalDia}\n              tiempoFormacion={tiempoFormacion}\n              tiempoOficina={tiempoOficina}\n              tiempoProgramacion={tiempoProgramacion}\n              tiempoVentas={tiempoVentas}\n              tiempoVentasEstadistica={tiempoVentasEstadistica}\n            />\n          </div>\n        )}\n      </>\n    );\n  }\n}\nexport const Fichar = withAuthValue(FicharClass);\n","import React from 'react';\n\nexport const VisualizacionTrabajos = ({\n  listaTrabajoSeleccionado,\n  tiempoTotalDia\n}) => {\n  return (\n    <div className=\"card visualizacion\">\n      <div className=\"card-body\">\n        <table className=\"table table-sm responsive\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th scope=\"col\">Dia</th>\n              <th scope=\"col\">Actividad</th>\n              <th scope=\"col\">Hora de Comienzo</th>\n              <th scope=\"col\">Tiempo Total</th>\n              <th scope=\"col\">Hora de Finalizacion</th>\n              <th scope=\"col\">Mapa</th>\n            </tr>\n          </thead>\n          <tbody>\n            {listaTrabajoSeleccionado.map((fichaje, i) => {\n              return (\n                <tr key={i}>\n                  <th scope=\"row\">{fichaje.dia}</th>\n                  <td>{fichaje.actividad}</td>\n                  <td>{fichaje.comienzo}</td>\n                  <td>{fichaje.duracion}</td>\n                  <td>{fichaje.parado}</td>\n                  <td>\n                    <button className=\"btn btn-primary btn-sm\">Mapa</button>\n                  </td>\n                </tr>\n              );\n            })}\n            <tr>\n              <th scope=\"row\">Totales</th>\n              <td />\n              <td />\n              <td>{tiempoTotalDia}</td>\n              <td />\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n","import React, { useCallback, useState, useEffect } from 'react';\nimport moment from 'moment';\nimport { db } from '../../firebase/firebase';\nimport { VisualizacionTrabajos } from '../Components/VisualizacionTrabajos';\nimport { useAuthValue } from '../../context/context';\nimport { Spinner } from '../../Spinner/Container/Spinner';\n\nconst today = () => moment(moment().format('YYYY-MM-DD')).valueOf();\nconst ducationFormat = duration => {\n  const time = moment.duration(duration);\n  return `${time.hours()} horas y ${time.minutes()} minutos.`;\n};\nexport function TrabajoRealizado() {\n  const {\n    user: { uid }\n  } = useAuthValue();\n  const [listaTrabajoSeleccionado, setListaTrabajoSeleccionado] = useState([]);\n  const [loading, setloading] = useState(false);\n  // const\n  const [{ fechaFin, fechaInicio }, setFilter] = useState({\n    fechaInicio: '',\n    fechaFin: ''\n  });\n  const handleChange = useCallback(({ target }) => {\n    const { value, name } = target;\n    const valueFormated = moment(value).valueOf();\n    setFilter(state => ({ ...state, [name]: valueFormated }));\n  }, []);\n  const handleVerInofrmacion = useCallback(\n    e => {\n      if (e) e.preventDefault();\n      const diaIncio = fechaInicio === '' ? 0 : fechaInicio;\n      const diaFin = fechaFin === '' ? today() : fechaInicio;\n      setloading(true);\n      db.collection('fichajes')\n        .where('userId', '==', uid)\n        .where('dia', '>=', diaIncio)\n        .where('dia', '<=', diaFin)\n        .get()\n        .then(value => {\n          setloading(false);\n          const fichajes = value.docs.map(item => {\n            const data = { ...item.data(), id: item.id };\n            const comienzo = moment(data.comienzo).format('HH:mm');\n            const parado = moment(data.parado).format('HH:mm');\n            const duracion = ducationFormat(data.duracion);\n            const dia = moment(data.dia).format('DD/MM/YYYY');\n            return {\n              ...data,\n              comienzo,\n              parado,\n              dia,\n              duracion,\n              duracionNum: data.duracion\n            };\n          });\n          setListaTrabajoSeleccionado(fichajes);\n        });\n    },\n    [fechaInicio, fechaFin, uid]\n  );\n  useEffect(() => {\n    handleVerInofrmacion();\n  }, [handleVerInofrmacion]);\n  const formatedFin = moment(fechaFin).format('YYYY-MM-DD');\n  const formatedInicio = moment(fechaInicio).format('YYYY-MM-DD');\n  const totalTiempo = listaTrabajoSeleccionado.reduce(\n    (num, item) => num + item.duracionNum,\n    0\n  );\n  // console.log(totalTiempo);\n  const tiempoTotalDia = ducationFormat(totalTiempo);\n  return (\n    <>\n      <div className=\"card visualizacion\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">Escoje un rango de fechas</h5>\n          <div className=\"row\">\n            <div className=\"col-12 col-md-6\">\n              <form className=\"form-inline\">\n                <div className=\"form-group mr-3\">\n                  <input\n                    type=\"date\"\n                    onChange={handleChange}\n                    className=\"form-control\"\n                    name=\"fechaInicio\"\n                    value={formatedInicio}\n                  />\n                </div>\n                <div className=\"form-group mr-3\">\n                  <input\n                    type=\"date\"\n                    onChange={handleChange}\n                    className=\"form-control\"\n                    name=\"fechaFin\"\n                    value={formatedFin}\n                  />\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={handleVerInofrmacion}\n                  className=\"btn btn-primary\"\n                >\n                  Enviar\n                </button>\n              </form>\n            </div>\n            <div className=\"col-12 col-md-6\" />\n          </div>\n        </div>\n      </div>\n      {loading ? (\n        <Spinner />\n      ) : (\n        <VisualizacionTrabajos\n          listaTrabajoSeleccionado={listaTrabajoSeleccionado}\n          tiempoTotalDia={tiempoTotalDia}\n        />\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuthValue } from '../../context/context';\n\nexport function LateralBar() {\n  const { user } = useAuthValue();\n  const type = user?.data?.type;\n  return (\n    <nav className=\"navbar navbar-collapse\">\n      <ul className=\"nav flex-column\">\n        <li className=\"nav-item\">\n          <Link to=\"./app\" className=\"btn btn-link\">\n            Inicio\n          </Link>\n        </li>\n        {type === 'vendedor' && (\n          <>\n            <li className=\"nav-item\">\n              <Link to=\"./visitas\" className=\"btn btn-link\">\n                Visitas\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to=\"/gestion\" className=\"btn btn-link\">\n                Gestionar Visitas\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to=\"/fichar\" className=\"btn btn-link\">\n                Fichar\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to=\"/trabajorealizado\" className=\"btn btn-link\">\n                Trabajo Realizado\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to=\"/estadisticas\" className=\"btn btn-link\">\n                Estadísticas\n              </Link>\n            </li>\n          </>\n        )}\n        {type === 'admin' && (\n          <>\n            <li className=\"nav-item\">\n              <Link to=\"./configuracion\" className=\"btn btn-link\">\n                Configuración\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link to=\"./vendedores\" className=\"btn btn-link\">\n                Vendedores\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to=\"/estadisticas\" className=\"btn btn-link\">\n                Estadísticas\n              </Link>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n}\n","import React from 'react';\r\nimport { HeaderNav } from '../Header/Container/HeaderNav';\r\nimport { LateralBar } from '../LateralBar/Container/LateralBar';\r\n\r\nexport default function Layout({ children }) {\r\n  return (\r\n    <div>\r\n      <HeaderNav userName=\"Carlos Raez\" />\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-md-2 lateralBar\">\r\n            <LateralBar />\r\n          </div>\r\n          <div className=\"col-12 col-md-10 pb-5\">{children}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport './Login.css';\nimport swal from 'sweetalert';\nimport { Redirect } from 'react-router-dom';\nimport { firebaseApp, db } from '../../firebase/firebase';\n\nexport class Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      password2: '',\n      inciarSesion: true,\n      userAdmin: null,\n      signed: false\n    };\n  }\n\n  componentDidMount() {\n    const url = window.location.search;\n    const searchParams = new URLSearchParams(url);\n    const userAdmin = searchParams.get('userAdmin');\n    this.setState({ userAdmin });\n  }\n\n  handleChange = e => {\n    const { target } = e;\n    const { value } = target;\n    const name = target.id;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleClick = async e => {\n    const { email, password, password2, userAdmin, name } = this.state;\n    if (password !== password2) {\n      swal('Las contrasenas deben coincidir');\n      return;\n    }\n    e.preventDefault();\n    if (firebaseApp.auth().isSignInWithEmailLink(window.location.href)) {\n      // Additional state parameters can also be passed via URL.\n      // This can be used to continue the user's intended action before triggering\n      // the sign-in operation.\n      // Get the email if available. This should be available if the user completes\n      // the flow on the same device where they started it.\n      try {\n        // The client SDK will parse the code from the link for you.\n        const { user } = await firebaseApp\n          .auth()\n          .signInWithEmailLink(email, window.location.href);\n        if (user) {\n          await user.delete();\n\n          const {\n            user: newUser\n          } = await firebaseApp\n            .auth()\n            .createUserWithEmailAndPassword(email, password);\n          const { email: email2 } = newUser;\n          await db\n            .collection('usersData')\n            .doc(newUser.uid)\n            .set({\n              type: 'vendedor',\n              userAdmin,\n              email: email2,\n              name\n            });\n\n          this.setState({ signed: true });\n        }\n      } catch (error) {\n        swal(\n          'Error al registar el usuario',\n          `Error: ${JSON.stringify(error)}`,\n          'error'\n        );\n        // Some error occurred, you can inspect the code: error.code\n        // Common errors could be invalid email and invalid or expired OTPs.\n      }\n    }\n  };\n\n  render() {\n    const { inciarSesion, signed } = this.state;\n\n    return (\n      <>\n        {!signed ? (\n          <div className=\"centrarLogin\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <form>\n                  <div className=\"form-group\">\n                    <label>Nombre</label>\n                    <input\n                      type=\"email\"\n                      className=\"form-control\"\n                      onChange={this.handleChange}\n                      id=\"name\"\n                      placeholder=\"email@gmail.com\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label>Direccion de Email</label>\n                    <br />\n                    <small>El email debe ser el mismo que el del correo</small>\n                    <input\n                      type=\"email\"\n                      className=\"form-control\"\n                      onChange={this.handleChange}\n                      id=\"email\"\n                      placeholder=\"email@gmail.com\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label>Contraseña</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      onChange={this.handleChange}\n                      id=\"password\"\n                      placeholder=\"Escribe tu contraseña\"\n                    />\n                    <label>Repite la Contraseña</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      onChange={this.handleChange}\n                      id=\"password2\"\n                      placeholder=\"Escribe tu contraseña\"\n                    />\n                  </div>\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary\"\n                    onClick={this.handleClick}\n                  >\n                    {inciarSesion ? 'Iniciar Sesion' : 'Cerrar Sesion'}\n                  </button>\n                </form>\n                <div />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <Redirect to=\"/app\" />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\r\n\r\nconst deletUser = uid => {};\r\nexport default function Vendedor({ data, i }) {\r\n  const { name, email, uid } = data;\r\n  return (\r\n    <tr>\r\n      <th scope=\"row\">{i}</th>\r\n      <td>{name}</td>\r\n      <td>{email}</td>\r\n      <td>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary btn-sm\"\r\n          onClick={() => deletUser(uid)}\r\n        >\r\n          Eliminar\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Vendedor from './Vendedor';\r\n\r\nexport default function VendedoresConatiner({ users }) {\r\n  if (users.length > 0) {\r\n    return users.map((item, i) => (\r\n      <Vendedor key={item.uid} i={i + 1} data={item} />\r\n    ));\r\n  }\r\n  return (\r\n    <tr>\r\n      <td colSpan=\"4\">\r\n        <div className=\"vendedores-cangardo\">No se han encontrado usuarios</div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n","import React, { useState, useCallback, useRef } from 'react';\r\nimport swal from 'sweetalert';\r\nimport {\r\n  actionUserWithEmailLinkSettings as defaultSettings,\r\n  firebaseApp\r\n} from '../../firebase/firebase';\r\nimport './vendedores.css';\r\nimport { useAuth, useUsers } from '../../hooks';\r\nimport { Spinner } from '../../Spinner/Container/Spinner';\r\nimport VendedoresConatiner from '../Components/VendedoresConatiner';\r\n\r\nconst registerUserWithEmailLink = async newUserEmail => {\r\n  const [exists] = await firebaseApp\r\n    .auth()\r\n    .fetchProvidersForEmail(newUserEmail);\r\n  if (exists) {\r\n    swal('Error', `El email ya esta registrado`, 'error');\r\n    return;\r\n  }\r\n  const user = firebaseApp.auth().currentUser;\r\n  const settings = {\r\n    ...defaultSettings,\r\n    url: `${defaultSettings.url}?userAdmin=${user.uid}`\r\n  };\r\n  firebaseApp\r\n    .auth()\r\n    .sendSignInLinkToEmail(newUserEmail, settings)\r\n    .then(() => {\r\n      swal({\r\n        text:\r\n          'Email para que usurario se registre ha sido enviado exitosamente',\r\n        timer: 1500\r\n      });\r\n    })\r\n    .catch(e => {\r\n      console.log(e);\r\n      swal(\r\n        'Error al enviar el email al nuevo usuario',\r\n        `Error: ${JSON.stringify(e)}`,\r\n        'error'\r\n      );\r\n    });\r\n};\r\nexport default function Vendedores() {\r\n  const [newUserEmail, setNewUserEmail] = useState('');\r\n  const inputRef = useRef();\r\n  const handleChange = useCallback(({ target }) => {\r\n    const { value } = target;\r\n    setNewUserEmail(value);\r\n  }, []);\r\n\r\n  const handleClick = useCallback(() => {\r\n    const input = inputRef.current;\r\n    if (!input.matches(':valid')) {\r\n      if (newUserEmail === '') {\r\n        swal('Email invalido', `El campo no puede estar vacio`, 'error');\r\n      } else {\r\n        swal(\r\n          'Email invalido',\r\n          `${newUserEmail}  no corresponde con un formato de email valido`,\r\n          'error'\r\n        );\r\n      }\r\n    }\r\n    registerUserWithEmailLink(newUserEmail);\r\n  }, [newUserEmail, inputRef]);\r\n  const { user } = useAuth();\r\n  const { users, loading } = useUsers(user.uid);\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12\">\r\n        <div className=\"card precios\">\r\n          <div className=\"card-body\">\r\n            <h2>Administra los Vendedores</h2>\r\n            <form>\r\n              <div className=\"form-group add-vendedor\">\r\n                <input\r\n                  className=\"form-control add-vendedor__input\"\r\n                  type=\"email\"\r\n                  ref={inputRef}\r\n                  value={newUserEmail}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Ingresa el correo del vendedor\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={handleClick}\r\n                >\r\n                  Agregar usuario\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <div>\r\n              <table className=\"table\">\r\n                <thead className=\"thead-dark\">\r\n                  <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Nombre</th>\r\n                    <th scope=\"col\">Email</th>\r\n                    <th scope=\"col\">Acciones</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {!loading ? (\r\n                    <VendedoresConatiner users={users} />\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"4\">\r\n                        <div className=\"vendedores-cangardo\">\r\n                          Cargando usuarios...\r\n                          <Spinner />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function ButtonClose({ onClick }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      style={{\r\n        position: 'absolute',\r\n        top: '1rem',\r\n        right: '1rem'\r\n      }}\r\n      className=\"btn btn-outline-danger btn-sm\"\r\n      onClick={onClick}\r\n    >\r\n      <span>×</span>\r\n    </button>\r\n  );\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport { v4 as uuid } from 'uuid';\r\nimport swal from 'sweetalert';\r\nimport moment from 'moment';\r\nimport { db } from '../../firebase/firebase';\r\n\r\nconst validate = ({ title, options }) => {\r\n  const validations = [];\r\n  let messages = '';\r\n  if (title === '') {\r\n    validations.push(false);\r\n    messages += ' El titulo no puede estar vacio.';\r\n  }\r\n  if (options.length <= 0) {\r\n    validations.push(false);\r\n    messages += ' Debes agregar opciones.';\r\n  } else {\r\n    const optionsNames = options.map(({ name }) => name !== '');\r\n    const valid = optionsNames.every(item => item);\r\n    if (!valid) {\r\n      validations.push(false);\r\n      messages += ' las opciones no pueden estar vacias.';\r\n    }\r\n  }\r\n\r\n  if (validations.length > 0) {\r\n    return {\r\n      isValid: false,\r\n      messages\r\n    };\r\n  }\r\n  return { isValid: true };\r\n};\r\nexport default function DynamicField({ field, closeModal, user }) {\r\n  const defaulField = field || {\r\n    title: '',\r\n    typeCampo: 'simple',\r\n    required: true,\r\n    date: null,\r\n    options: []\r\n  };\r\n  const [loading, setLoading] = useState(false);\r\n  const [campo, setCampo] = useState(defaulField);\r\n  const handleOnChage = useCallback(({ target }) => {\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    setCampo(state => ({ ...state, [target.name]: value }));\r\n  }, []);\r\n  const handleAddOption = useCallback(() => {\r\n    const option = { key: uuid(), name: '', active: true };\r\n    const newOptions = [...campo.options];\r\n    newOptions.push(option);\r\n    setCampo(state => ({ ...state, options: newOptions }));\r\n  }, [campo.options]);\r\n  const handleRemoveOption = useCallback(\r\n    id => {\r\n      const newOptions = campo.options.filter(item => item.key !== id);\r\n      setCampo(state => ({ ...state, options: newOptions }));\r\n    },\r\n    [campo.options]\r\n  );\r\n  const handleChangeOption = useCallback(\r\n    (value, id) => {\r\n      const newOptions = campo.options.map(item => {\r\n        if (item.key === id) {\r\n          return { ...item, name: value, active: true };\r\n        }\r\n\r\n        return { ...item, active: false };\r\n      });\r\n      setCampo(state => ({ ...state, options: newOptions }));\r\n    },\r\n    [campo.options]\r\n  );\r\n  const inputRef = useRef();\r\n  useEffect(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [campo.options]);\r\n  const saveField = useCallback(async () => {\r\n    const valid = validate(campo);\r\n    if (!valid.isValid) {\r\n      swal('Error al guardar', `${valid.messages}`, 'error');\r\n      return;\r\n    }\r\n    const docId = field ? field.id : uuid();\r\n    let hasError = false;\r\n    try {\r\n      setLoading(true);\r\n      const options = campo.options.map(({ name, key }) => ({ name, key }));\r\n      const date = campo.date ? campo.date : moment().valueOf();\r\n      const fieldSave = { ...campo, userId: user.uid, options, date };\r\n      await db\r\n        .collection('dynamicFields')\r\n        .doc(docId)\r\n        .set(fieldSave);\r\n    } catch (error) {\r\n      hasError = true;\r\n      swal('Error al guardar', `Error: ${JSON.stringify(error)}`, 'error');\r\n    }\r\n\r\n    setLoading(false);\r\n    if (!hasError) {\r\n      closeModal();\r\n    }\r\n  }, [campo, user, field, closeModal]);\r\n  return (\r\n    <div>\r\n      <h2>{field ? 'Editar campo' : 'Agregar un campo nuevo'}</h2>\r\n      <div className=\"form-group mb-4\">\r\n        <input\r\n          className=\"form-control\"\r\n          name=\"title\"\r\n          type=\"text\"\r\n          placeholder=\"Titulo...\"\r\n          onChange={handleOnChage}\r\n          value={campo.title}\r\n        />\r\n      </div>\r\n      <div className=\"form-group mb-4\">\r\n        <h3>Tipo de campo</h3>\r\n        <div className=\"custom-control custom-radio\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"customRadio1\"\r\n            name=\"typeCampo\"\r\n            className=\"custom-control-input\"\r\n            value=\"multiple\"\r\n            onChange={handleOnChage}\r\n            checked={campo.typeCampo === 'multiple'}\r\n          />\r\n          <label className=\"custom-control-label\" htmlFor=\"customRadio1\">\r\n            Multiple seleccion\r\n          </label>\r\n        </div>\r\n        <div className=\"custom-control custom-radio\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"customRadio2\"\r\n            name=\"typeCampo\"\r\n            value=\"simple\"\r\n            className=\"custom-control-input\"\r\n            onChange={handleOnChage}\r\n            checked={campo.typeCampo === 'simple'}\r\n          />\r\n          <label className=\"custom-control-label\" htmlFor=\"customRadio2\">\r\n            Solo un elemeneto selecionable\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div className=\"custom-control custom-switch\">\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"custom-control-input\"\r\n          id=\"customSwitch1\"\r\n          name=\"required\"\r\n          checked={campo.required}\r\n          onChange={handleOnChage}\r\n        />\r\n        <label className=\"custom-control-label\" htmlFor=\"customSwitch1\">\r\n          Requerido\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group mb-4\" style={{ minHeight: '270px' }}>\r\n        <h3>Opciones</h3>\r\n        <ul>\r\n          {campo.options.map(({ key, name, active }) => {\r\n            const ref = active ? inputRef : null;\r\n            return (\r\n              <li key={key}>\r\n                <div className=\"col-auto\" style={{ position: 'relative' }}>\r\n                  <input\r\n                    type=\"text\"\r\n                    ref={ref}\r\n                    suppressContentEditableWarning\r\n                    className=\"form-control mb-2 form-control-sm\"\r\n                    style={{\r\n                      display: 'inline-block',\r\n                      width: 'auto',\r\n                      minWidth: '160px'\r\n                    }}\r\n                    placeholder=\"Opcion...\"\r\n                    onChange={({ target }) =>\r\n                      handleChangeOption(target.value, key)\r\n                    }\r\n                    value={name}\r\n                  />\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-danger btn-sm ml-2\"\r\n                    onClick={() => handleRemoveOption(key)}\r\n                  >\r\n                    <span>×</span>\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n          <li>\r\n            <div className=\"col-auto\">\r\n              <button\r\n                className=\"btn btn-secondary btn-sm\"\r\n                type=\"button\"\r\n                onClick={handleAddOption}\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"d-flex justify-content-center\">\r\n        <button\r\n          className=\"btn btn-primary btn-lg d-inline-flex align-items-center\"\r\n          type=\"button\"\r\n          onClick={saveField}\r\n        >\r\n          {!loading ? (\r\n            'Guardar'\r\n          ) : (\r\n            <>\r\n              <span>cargando... </span>\r\n              <div className=\"spinner-border spinner-border-sm\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport swal from 'sweetalert';\r\nimport { db } from '../../firebase/firebase';\r\n\r\nexport default function FieldListItem({ data, i, edit }) {\r\n  const { id, title, options } = data;\r\n  const handleEdit = useCallback(() => {\r\n    edit(id);\r\n  }, [id, edit]);\r\n  const handleDelete = useCallback(async () => {\r\n    try {\r\n      await db\r\n        .collection('dynamicFields')\r\n        .doc(id)\r\n        .delete();\r\n      swal('Campo eliminado');\r\n    } catch (error) {\r\n      swal('Error al eliminar campo', `Error: ${error}`, 'error');\r\n    }\r\n  }, [id]);\r\n  return (\r\n    <tr>\r\n      <td>{i}</td>\r\n      <td>{title}</td>\r\n      <td>{options.length}</td>\r\n      <td>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-sm btn-outline-info mr-3\"\r\n          onClick={handleEdit}\r\n        >\r\n          <span>Editar</span>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-sm btn-outline-danger\"\r\n          onClick={handleDelete}\r\n        >\r\n          <span>×</span>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport FieldListItem from './FieldListItem';\r\n\r\nexport default function DynamicFieldList({ fields, edit }) {\r\n  if (fields.length <= 0) {\r\n    return (\r\n      <tr>\r\n        <td colSpan=\"4\">\r\n          <div className=\"vendedores-cangardo\">No se han encontrado campos</div>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n  return fields.map((item, i) => (\r\n    <FieldListItem key={item.id} data={item} i={i + 1} edit={edit} />\r\n  ));\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport Modal from 'react-modal';\r\nimport ButtonClose from '../Components/ButtonClose';\r\nimport DynamicField from '../Components/DynamicField';\r\nimport { useAuth, useCollection } from '../../hooks';\r\nimport { Spinner } from '../../Spinner/Container/Spinner';\r\nimport DynamicFieldList from '../Components/DynamicFieldList';\r\n\r\nexport default function Configuracion() {\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const { user } = useAuth();\r\n  const [field, setField] = useState(null);\r\n  const [fields, loadingFields] = useCollection('dynamicFields', [\r\n    'userId',\r\n    '==',\r\n    user.uid\r\n  ]);\r\n  const editField = useCallback(\r\n    id => {\r\n      const current = fields.find(item => item.id === id);\r\n      setField(current);\r\n      setModalOpen(true);\r\n    },\r\n    [fields]\r\n  );\r\n  const addField = useCallback(() => {\r\n    setField(null);\r\n    setModalOpen(true);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"card precios\">\r\n            <div className=\"card-body\">\r\n              <h2>Configura las visitas</h2>\r\n              <table className=\"table\">\r\n                <thead className=\"thead-dark\">\r\n                  <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Titulo</th>\r\n                    <th scope=\"col\">Opciones</th>\r\n                    <th scope=\"col\">Acciones</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {!loadingFields ? (\r\n                    <DynamicFieldList fields={fields} edit={editField} />\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"4\">\r\n                        <div className=\"vendedores-cangardo\">\r\n                          Cargando campos...\r\n                          <Spinner />\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                onClick={addField}\r\n              >\r\n                Agregar campo\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Modal isOpen={modalOpen} appElement={document.getElementById('root')}>\r\n        <ButtonClose onClick={() => setModalOpen(!modalOpen)} />\r\n        <DynamicField\r\n          closeModal={() => setModalOpen(!modalOpen)}\r\n          user={user}\r\n          field={field}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { App } from '../App';\nimport PrivateRoute from './Private';\nimport { GestionVisitas } from '../GestionVisitas/Container/GestionVisitas';\nimport { Visitas } from '../Visitas/Container/Visitas';\nimport { Estadisticas } from '../Estadisticas/Container/Estadisticas';\nimport { Dashboard } from '../Dashboard/Container/Dashboard';\nimport { Fichar } from '../Fichar/Container/Fichar';\nimport { TrabajoRealizado } from '../TrabajoRealizado/Container/TrabajoRealizado';\nimport { useAuthValue } from '../context/context';\nimport Layout from '../layout/Layout';\nimport { Signup } from '../Signup/Container/Signup';\nimport Vendedores from '../Vendedores/Container/Vendedores';\nimport { Spinner } from '../Spinner/Container/Spinner';\nimport Configuracion from '../Configuracion/Container/Configuracion';\n\nconst RutasApp = () => {\n  const { authenticated, login, user, loading } = useAuthValue();\n  const type = user?.data?.type;\n  if (loading) {\n    return (\n      <main>\n        <Spinner />\n      </main>\n    );\n  }\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PrivateRoute\n            exact\n            path=\"/visitas\"\n            authenticated={authenticated}\n            routeType={['vendedor']}\n            userType={type}\n          >\n            <Layout>\n              <Visitas />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/estadisticas\"\n            authenticated={authenticated}\n            routeType={['vendedor', 'admin']}\n            userType={type}\n          >\n            <Layout>\n              <Estadisticas />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/gestion\"\n            authenticated={authenticated}\n            routeType={['vendedor']}\n            userType={type}\n          >\n            <Layout>\n              <GestionVisitas />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/fichar\"\n            authenticated={authenticated}\n            routeType={['vendedor']}\n            userType={type}\n          >\n            <Layout>\n              <Fichar />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/trabajorealizado\"\n            authenticated={authenticated}\n            routeType={['vendedor']}\n            userType={type}\n          >\n            <Layout>\n              <TrabajoRealizado />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/vendedores\"\n            authenticated={authenticated}\n            routeType={['admin']}\n            userType={type}\n          >\n            <Layout>\n              <Vendedores />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/configuracion\"\n            authenticated={authenticated}\n            routeType={['admin']}\n            userType={type}\n          >\n            <Layout>\n              <Configuracion />\n            </Layout>\n          </PrivateRoute>\n          <PrivateRoute\n            exact\n            path=\"/app\"\n            authenticated={authenticated}\n            userType={type}\n          >\n            <Dashboard userType={type} />\n          </PrivateRoute>\n          <Route exact path=\"/\">\n            <App login={login} user={user} />\n          </Route>\n          <Route exact path=\"/signup\">\n            <Signup />\n          </Route>\n          <Route>\n            <main>no encontrado</main>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default RutasApp;\n","import { useState, useEffect } from 'react';\r\nimport { firebaseApp, db } from '../firebase/firebase';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useAuth = () => {\r\n  const [auth, setAuth] = useState({\r\n    login: false,\r\n    user: false,\r\n    authenticated: false,\r\n    loading: true\r\n  });\r\n  const { login, user, authenticated, loading } = auth;\r\n  useEffect(() => {\r\n    const unsubcribe = firebaseApp.auth().onAuthStateChanged(async authUser => {\r\n      if (authUser) {\r\n        const userSnapshot = await db\r\n          .collection('usersData')\r\n          .doc(authUser.uid)\r\n          .get();\r\n        const data = userSnapshot.exists ? userSnapshot.data() : {};\r\n        setAuth({\r\n          login: false,\r\n          user: { ...authUser, data },\r\n          authenticated: true,\r\n          loading: false\r\n        });\r\n      } else {\r\n        setAuth({ login: true, authenticated: false, loading: false });\r\n        console.log('no hay usuario');\r\n      }\r\n    });\r\n    return unsubcribe;\r\n  }, []);\r\n\r\n  return {\r\n    login,\r\n    user,\r\n    authenticated,\r\n    setAuth,\r\n    loading\r\n  };\r\n};\r\nexport const useUsers = adminUid => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    if (!adminUid) {\r\n      return () => {};\r\n    }\r\n    const usersData = db\r\n      .collection('usersData')\r\n      .where('userAdmin', '==', adminUid)\r\n      .onSnapshot(snapshot => {\r\n        const usersSanp = snapshot.docs.map(doc => ({ ...doc.data() }));\r\n        setLoading(false);\r\n        setUsers(usersSanp);\r\n      });\r\n    return () => {\r\n      // unsubcribe sanpshot listener\r\n      usersData();\r\n    };\r\n  }, [adminUid]);\r\n\r\n  return {\r\n    users,\r\n    loading\r\n  };\r\n};\r\nexport const useCollection = (collection, query) => {\r\n  const [key, operator, value] = query;\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    console.log('run');\r\n    if (!value) {\r\n      return () => {};\r\n    }\r\n    const dbQuery = value\r\n      ? db.collection(collection).where(key, operator, value)\r\n      : db.collection(collection);\r\n\r\n    const usersData = dbQuery.onSnapshot(snapshot => {\r\n      const usersSanp = snapshot.docs.map(doc => ({\r\n        ...doc.data(),\r\n        id: doc.id\r\n      }));\r\n      if (loading) {\r\n        setLoading(false);\r\n      }\r\n      setData(usersSanp);\r\n    });\r\n    return () => {\r\n      // unsubcribe sanpshot listener\r\n      usersData();\r\n    };\r\n  }, [key, operator, value, collection, loading]);\r\n\r\n  return [data, loading];\r\n};\r\nexport const useCollectionByRef = (collection, query) => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const queryString = JSON.stringify(query);\r\n  useEffect(() => {\r\n    if (!queryString) {\r\n      return () => {};\r\n    }\r\n    const parsedQuery = JSON.parse(queryString);\r\n    const dbQuery = parsedQuery.where.reduce((newQuery, value) => {\r\n      if (!value) {\r\n        return newQuery;\r\n      }\r\n      if (value[2] === undefined || value[2] === null) {\r\n        return newQuery;\r\n      }\r\n      return newQuery.where(...value);\r\n    }, db.collection(collection));\r\n    // console.log(dbQuery);\r\n    const snapshotData = dbQuery.onSnapshot(snapshot => {\r\n      const snapshotDocsData = snapshot.docs.map(doc => ({\r\n        ...doc.data(),\r\n        id: doc.id\r\n      }));\r\n      if (loading) {\r\n        setLoading(false);\r\n      }\r\n      setData(snapshotDocsData);\r\n    });\r\n    return () => {\r\n      // unsubcribe sanpshot listener\r\n      snapshotData();\r\n    };\r\n  }, [queryString, loading, collection]);\r\n\r\n  return [data, loading];\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID\r\n};\r\n\r\nexport const firebaseApp = firebase.initializeApp(config);\r\nexport const db = firebaseApp.firestore();\r\n\r\nexport const actionUserWithEmailLinkSettings = {\r\n  // URL you want to redirect back to. The domain (www.example.com) for this\r\n  // URL must be whitelisted in the Firebase Console.\r\n  url: process.env.REACT_APP_SIGNUP_URL,\r\n  // This must be true.\r\n  handleCodeInApp: true\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport MainApp from './MainApp';\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/calculator.a08c3434.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sell.0367902a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/estadisticas.62170cb7.jpg\";"],"sourceRoot":""}